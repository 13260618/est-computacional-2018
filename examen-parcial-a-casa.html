<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Estadística Computacional</title>
  <meta name="description" content="Curso de estadística computacional, Maestría en Ciencia de Datos, ITAM 2018.">
  <meta name="generator" content="bookdown  and GitBook 2.6.7">

  <meta property="og:title" content="Estadística Computacional" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Curso de estadística computacional, Maestría en Ciencia de Datos, ITAM 2018." />
  <meta name="github-repo" content="tereom/est-computacional-2018" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Estadística Computacional" />
  
  <meta name="twitter:description" content="Curso de estadística computacional, Maestría en Ciencia de Datos, ITAM 2018." />
  

<meta name="author" content="María Teresa Ortiz">



  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="cobertura-de-intervalos-de-confianza.html">
<link rel="next" href="referencias.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<script src="libs/htmlwidgets-1.3/htmlwidgets.js"></script>
<script src="libs/d3-3.5.6/d3.min.js"></script>
<link href="libs/profvis-0.3.5/profvis.css" rel="stylesheet" />
<script src="libs/profvis-0.3.5/profvis.js"></script>
<link href="libs/highlight-6.2.0/textmate.css" rel="stylesheet" />
<script src="libs/highlight-6.2.0/highlight.js"></script>
<script src="libs/profvis-binding-0.3.5/profvis.js"></script>
<script src="libs/plotly-binding-4.8.0/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.0.0/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.0.0/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-1.39.2/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-1.39.2/plotly-latest.min.js"></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; position: absolute; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; }
pre.numberSource a.sourceLine:empty
  { position: absolute; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: absolute; left: -5em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="css/style.css" type="text/css" />
<link rel="stylesheet" href="css/toc.css" type="text/css" />
<link rel="stylesheet" href="css/font-awesome.min.css" type="text/css" />
<link rel="stylesheet" href="css/cajas.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Estadística Computacional</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Información del curso</a><ul>
<li class="chapter" data-level="" data-path="temario.html"><a href="temario.html"><i class="fa fa-check"></i>Temario</a><ul>
<li class="chapter" data-level="" data-path="temario.html"><a href="temario.html#calificacion"><i class="fa fa-check"></i>Calificación</a></li>
<li class="chapter" data-level="" data-path="temario.html"><a href="temario.html#software"><i class="fa fa-check"></i>Software</a></li>
<li class="chapter" data-level="" data-path="temario.html"><a href="temario.html#otros-recursos"><i class="fa fa-check"></i>Otros recursos</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="1" data-path="introduccion-a-visualizacion.html"><a href="introduccion-a-visualizacion.html"><i class="fa fa-check"></i><b>1</b> Introducción a visualización</a><ul>
<li class="chapter" data-level="" data-path="introduccion-a-visualizacion.html"><a href="introduccion-a-visualizacion.html#el-cuarteto-de-ascombe"><i class="fa fa-check"></i>El cuarteto de Ascombe</a></li>
<li class="chapter" data-level="1.1" data-path="introduccion.html"><a href="introduccion.html"><i class="fa fa-check"></i><b>1.1</b> Introducción</a><ul>
<li class="chapter" data-level="" data-path="introduccion.html"><a href="introduccion.html#visualizacion-de-datos-en-la-estadistica"><i class="fa fa-check"></i>Visualización de datos en la estadística</a></li>
<li class="chapter" data-level="" data-path="introduccion.html"><a href="introduccion.html#visualizacion-popular-de-datos"><i class="fa fa-check"></i>Visualización popular de datos</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="teoria-de-visualizacion-de-datos.html"><a href="teoria-de-visualizacion-de-datos.html"><i class="fa fa-check"></i><b>1.2</b> Teoría de visualización de datos</a><ul>
<li class="chapter" data-level="" data-path="teoria-de-visualizacion-de-datos.html"><a href="teoria-de-visualizacion-de-datos.html#principios-generales-del-diseno-analitico"><i class="fa fa-check"></i>Principios generales del diseño analítico</a></li>
<li class="chapter" data-level="" data-path="teoria-de-visualizacion-de-datos.html"><a href="teoria-de-visualizacion-de-datos.html#tecnicas-de-visualizacion"><i class="fa fa-check"></i>Técnicas de visualización</a></li>
<li class="chapter" data-level="" data-path="teoria-de-visualizacion-de-datos.html"><a href="teoria-de-visualizacion-de-datos.html#indicadores-de-calidad-grafica"><i class="fa fa-check"></i>Indicadores de calidad gráfica</a></li>
<li class="chapter" data-level="" data-path="teoria-de-visualizacion-de-datos.html"><a href="teoria-de-visualizacion-de-datos.html#factor-de-engano-chartjunk-y-pies"><i class="fa fa-check"></i>Factor de engaño, chartjunk y pies</a></li>
<li class="chapter" data-level="" data-path="teoria-de-visualizacion-de-datos.html"><a href="teoria-de-visualizacion-de-datos.html#series-de-tiempo-y-promedio-de-45"><i class="fa fa-check"></i>Series de tiempo y promedio de 45</a></li>
<li class="chapter" data-level="" data-path="teoria-de-visualizacion-de-datos.html"><a href="teoria-de-visualizacion-de-datos.html#pequenos-multiplos-y-densidad-grafica"><i class="fa fa-check"></i>Pequeños múltiplos y densidad gráfica</a></li>
<li class="chapter" data-level="" data-path="teoria-de-visualizacion-de-datos.html"><a href="teoria-de-visualizacion-de-datos.html#tinta-de-datos"><i class="fa fa-check"></i>Tinta de datos</a></li>
<li class="chapter" data-level="" data-path="teoria-de-visualizacion-de-datos.html"><a href="teoria-de-visualizacion-de-datos.html#percepcion-de-escala"><i class="fa fa-check"></i>Percepción de escala</a></li>
<li class="chapter" data-level="" data-path="teoria-de-visualizacion-de-datos.html"><a href="teoria-de-visualizacion-de-datos.html#minard"><i class="fa fa-check"></i>Minard</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="introduccion-a-r-y-al-paquete-ggplot2.html"><a href="introduccion-a-r-y-al-paquete-ggplot2.html"><i class="fa fa-check"></i><b>2</b> Introducción a R y al paquete ggplot2</a><ul>
<li class="chapter" data-level="2.1" data-path="r-primeros-pasos.html"><a href="r-primeros-pasos.html"><i class="fa fa-check"></i><b>2.1</b> R: primeros pasos</a><ul>
<li class="chapter" data-level="" data-path="r-primeros-pasos.html"><a href="r-primeros-pasos.html#r-en-analisis-de-datos"><i class="fa fa-check"></i>R en análisis de datos</a></li>
<li class="chapter" data-level="" data-path="r-primeros-pasos.html"><a href="r-primeros-pasos.html#paquetes-y-el-tidyverse"><i class="fa fa-check"></i>Paquetes y el Tidyverse</a></li>
<li class="chapter" data-level="" data-path="r-primeros-pasos.html"><a href="r-primeros-pasos.html#recursos"><i class="fa fa-check"></i>Recursos</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="visualizacion-con-ggplot2.html"><a href="visualizacion-con-ggplot2.html"><i class="fa fa-check"></i><b>2.2</b> Visualización con ggplot2</a><ul>
<li class="chapter" data-level="" data-path="visualizacion-con-ggplot2.html"><a href="visualizacion-con-ggplot2.html#recursos-1"><i class="fa fa-check"></i>Recursos</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="manipulacion-y-agrupacion-de-datos.html"><a href="manipulacion-y-agrupacion-de-datos.html"><i class="fa fa-check"></i><b>3</b> Manipulación y agrupación de datos</a><ul>
<li class="chapter" data-level="3.1" data-path="transformacion-de-datos.html"><a href="transformacion-de-datos.html"><i class="fa fa-check"></i><b>3.1</b> Transformación de datos</a><ul>
<li><a href="transformacion-de-datos.html#separa-aplica-combina-split-apply-combine">Separa-aplica-combina (<em>split-apply-combine</em>)</a></li>
<li class="chapter" data-level="" data-path="transformacion-de-datos.html"><a href="transformacion-de-datos.html#ejemplos-y-lectura-de-datos"><i class="fa fa-check"></i>Ejemplos y lectura de datos</a></li>
<li class="chapter" data-level="" data-path="transformacion-de-datos.html"><a href="transformacion-de-datos.html#filtrar"><i class="fa fa-check"></i>Filtrar</a></li>
<li class="chapter" data-level="" data-path="transformacion-de-datos.html"><a href="transformacion-de-datos.html#seleccionar"><i class="fa fa-check"></i>Seleccionar</a></li>
<li class="chapter" data-level="" data-path="transformacion-de-datos.html"><a href="transformacion-de-datos.html#ordenar"><i class="fa fa-check"></i>Ordenar</a></li>
<li class="chapter" data-level="" data-path="transformacion-de-datos.html"><a href="transformacion-de-datos.html#mutar"><i class="fa fa-check"></i>Mutar</a></li>
<li class="chapter" data-level="" data-path="transformacion-de-datos.html"><a href="transformacion-de-datos.html#summarise-y-resumenes-por-grupo"><i class="fa fa-check"></i>Summarise y resúmenes por grupo</a></li>
<li class="chapter" data-level="" data-path="transformacion-de-datos.html"><a href="transformacion-de-datos.html#operador-pipeline"><i class="fa fa-check"></i>Operador pipeline</a></li>
<li class="chapter" data-level="" data-path="transformacion-de-datos.html"><a href="transformacion-de-datos.html#variables-por-grupo"><i class="fa fa-check"></i>Variables por grupo</a></li>
<li class="chapter" data-level="" data-path="transformacion-de-datos.html"><a href="transformacion-de-datos.html#verbos-de-dos-tablas"><i class="fa fa-check"></i>Verbos de dos tablas</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="datos-limpios.html"><a href="datos-limpios.html"><i class="fa fa-check"></i><b>3.2</b> Datos limpios</a><ul>
<li class="chapter" data-level="" data-path="datos-limpios.html"><a href="datos-limpios.html#limpieza-bases-de-datos"><i class="fa fa-check"></i>Limpieza bases de datos</a></li>
<li class="chapter" data-level="" data-path="datos-limpios.html"><a href="datos-limpios.html#los-encabezados-de-las-columanas-son-valores"><i class="fa fa-check"></i>Los encabezados de las columanas son valores</a></li>
<li class="chapter" data-level="" data-path="datos-limpios.html"><a href="datos-limpios.html#una-columna-asociada-a-mas-de-una-variable"><i class="fa fa-check"></i>Una columna asociada a más de una variable</a></li>
<li class="chapter" data-level="" data-path="datos-limpios.html"><a href="datos-limpios.html#variables-almacenadas-en-filas-y-columnas"><i class="fa fa-check"></i>Variables almacenadas en filas y columnas</a></li>
<li class="chapter" data-level="" data-path="datos-limpios.html"><a href="datos-limpios.html#mas-de-un-tipo-de-observacion-en-una-misma-tabla"><i class="fa fa-check"></i>Mas de un tipo de observación en una misma tabla</a></li>
<li class="chapter" data-level="" data-path="datos-limpios.html"><a href="datos-limpios.html#una-misma-unidad-observacional-esta-almacenada-en-multiples-tablas"><i class="fa fa-check"></i>Una misma unidad observacional está almacenada en múltiples tablas</a></li>
<li class="chapter" data-level="" data-path="datos-limpios.html"><a href="datos-limpios.html#otras-consideraciones"><i class="fa fa-check"></i>Otras consideraciones</a></li>
<li class="chapter" data-level="" data-path="datos-limpios.html"><a href="datos-limpios.html#recursos-adicionales"><i class="fa fa-check"></i>Recursos adicionales</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="temas-selectos-de-r.html"><a href="temas-selectos-de-r.html"><i class="fa fa-check"></i><b>4</b> Temas selectos de R</a><ul>
<li class="chapter" data-level="4.1" data-path="funciones.html"><a href="funciones.html"><i class="fa fa-check"></i><b>4.1</b> Funciones</a><ul>
<li class="chapter" data-level="" data-path="funciones.html"><a href="funciones.html#estructura-de-una-funcion"><i class="fa fa-check"></i>Estructura de una función</a></li>
<li class="chapter" data-level="" data-path="funciones.html"><a href="funciones.html#observaciones-del-uso-de-funciones"><i class="fa fa-check"></i>Observaciones del uso de funciones</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="vectores.html"><a href="vectores.html"><i class="fa fa-check"></i><b>4.2</b> Vectores</a><ul>
<li class="chapter" data-level="" data-path="vectores.html"><a href="vectores.html#propiedades"><i class="fa fa-check"></i>Propiedades</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="iteracion.html"><a href="iteracion.html"><i class="fa fa-check"></i><b>4.3</b> Iteración</a></li>
<li class="chapter" data-level="4.4" data-path="rendimiento-en-r.html"><a href="rendimiento-en-r.html"><i class="fa fa-check"></i><b>4.4</b> Rendimiento en R</a><ul>
<li class="chapter" data-level="" data-path="rendimiento-en-r.html"><a href="rendimiento-en-r.html#diagnosticar"><i class="fa fa-check"></i>Diagnosticar</a></li>
<li class="chapter" data-level="" data-path="rendimiento-en-r.html"><a href="rendimiento-en-r.html#estrategias-para-mejorar-desempeno"><i class="fa fa-check"></i>Estrategias para mejorar desempeño</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="introduccion-a-probabilidad.html"><a href="introduccion-a-probabilidad.html"><i class="fa fa-check"></i><b>5</b> Introducción a probabilidad</a><ul>
<li class="chapter" data-level="5.1" data-path="probabilidad-como-extension-a-proporcion.html"><a href="probabilidad-como-extension-a-proporcion.html"><i class="fa fa-check"></i><b>5.1</b> Probabilidad como extensión a proporción</a></li>
<li class="chapter" data-level="5.2" data-path="interpretacion-frecuentista-de-probabilidad.html"><a href="interpretacion-frecuentista-de-probabilidad.html"><i class="fa fa-check"></i><b>5.2</b> Interpretación frecuentista de probabilidad</a></li>
<li class="chapter" data-level="5.3" data-path="simulacion-para-el-calculo-de-probabilidades.html"><a href="simulacion-para-el-calculo-de-probabilidades.html"><i class="fa fa-check"></i><b>5.3</b> Simulación para el cálculo de probabilidades</a></li>
<li class="chapter" data-level="5.4" data-path="probabilidad-definicion-matematica.html"><a href="probabilidad-definicion-matematica.html"><i class="fa fa-check"></i><b>5.4</b> Probabilidad: definición matemática</a><ul>
<li class="chapter" data-level="5.4.1" data-path="probabilidad-definicion-matematica.html"><a href="probabilidad-definicion-matematica.html#propiedades-de-la-funcion-de-probabilidad"><i class="fa fa-check"></i><b>5.4.1</b> Propiedades de la función de probabilidad:</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="variables-aleatorias.html"><a href="variables-aleatorias.html"><i class="fa fa-check"></i><b>5.5</b> Variables aleatorias</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="bootstrap-no-parametrico.html"><a href="bootstrap-no-parametrico.html"><i class="fa fa-check"></i><b>6</b> Bootstrap no paramétrico</a><ul>
<li class="chapter" data-level="6.1" data-path="el-principio-del-plug-in.html"><a href="el-principio-del-plug-in.html"><i class="fa fa-check"></i><b>6.1</b> El principio del plug-in</a><ul>
<li class="chapter" data-level="" data-path="el-principio-del-plug-in.html"><a href="el-principio-del-plug-in.html#muestras-aleatorias"><i class="fa fa-check"></i>Muestras aleatorias</a></li>
<li class="chapter" data-level="" data-path="el-principio-del-plug-in.html"><a href="el-principio-del-plug-in.html#funcion-de-distribucion-empirica"><i class="fa fa-check"></i>Función de distribución empírica</a></li>
<li class="chapter" data-level="" data-path="el-principio-del-plug-in.html"><a href="el-principio-del-plug-in.html#parametros-y-estadisticas"><i class="fa fa-check"></i>Parámetros y estadísticas</a></li>
<li class="chapter" data-level="" data-path="el-principio-del-plug-in.html"><a href="el-principio-del-plug-in.html#distribuciones-muestrales-y-errores-estandar"><i class="fa fa-check"></i>Distribuciones muestrales y errores estándar</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="el-estimador-bootstrap-del-error-estandar.html"><a href="el-estimador-bootstrap-del-error-estandar.html"><i class="fa fa-check"></i><b>6.2</b> El estimador bootstrap del error estándar</a><ul>
<li class="chapter" data-level="" data-path="el-estimador-bootstrap-del-error-estandar.html"><a href="el-estimador-bootstrap-del-error-estandar.html#variacion-en-distribuciones-bootstrap"><i class="fa fa-check"></i>Variación en distribuciones bootstrap</a></li>
<li class="chapter" data-level="" data-path="el-estimador-bootstrap-del-error-estandar.html"><a href="el-estimador-bootstrap-del-error-estandar.html#mas-alla-de-muestras-aleatorias-simples"><i class="fa fa-check"></i>Más alla de muestras aleatorias simples</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="intervalos-de-confianza.html"><a href="intervalos-de-confianza.html"><i class="fa fa-check"></i><b>6.3</b> Intervalos de confianza</a></li>
<li class="chapter" data-level="6.4" data-path="bootstrap-en-r.html"><a href="bootstrap-en-r.html"><i class="fa fa-check"></i><b>6.4</b> Bootstrap en R</a></li>
<li class="chapter" data-level="6.5" data-path="conclusiones-y-observaciones.html"><a href="conclusiones-y-observaciones.html"><i class="fa fa-check"></i><b>6.5</b> Conclusiones y observaciones</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="teoria-basica-de-simulacion.html"><a href="teoria-basica-de-simulacion.html"><i class="fa fa-check"></i><b>7</b> Teoría básica de simulación</a><ul>
<li class="chapter" data-level="7.1" data-path="numeros-pseudoaleatorios.html"><a href="numeros-pseudoaleatorios.html"><i class="fa fa-check"></i><b>7.1</b> Números pseudoaleatorios</a><ul>
<li class="chapter" data-level="" data-path="numeros-pseudoaleatorios.html"><a href="numeros-pseudoaleatorios.html#generadores-congruenciales-y-mersenne-twister"><i class="fa fa-check"></i>Generadores congruenciales y Mersenne-Twister</a></li>
<li class="chapter" data-level="" data-path="numeros-pseudoaleatorios.html"><a href="numeros-pseudoaleatorios.html#pruebas-de-aleatoriedad"><i class="fa fa-check"></i>Pruebas de aleatoriedad</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="variables-aleatorias-1.html"><a href="variables-aleatorias-1.html"><i class="fa fa-check"></i><b>7.2</b> Variables aleatorias</a><ul>
<li class="chapter" data-level="" data-path="variables-aleatorias-1.html"><a href="variables-aleatorias-1.html#familias-discretas-importantes"><i class="fa fa-check"></i>Familias discretas importantes</a></li>
<li class="chapter" data-level="" data-path="variables-aleatorias-1.html"><a href="variables-aleatorias-1.html#familias-continuas-importantes"><i class="fa fa-check"></i>Familias Continuas importantes</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="simulacion-de-variables-aleatorias.html"><a href="simulacion-de-variables-aleatorias.html"><i class="fa fa-check"></i><b>7.3</b> Simulación de variables aleatorias</a><ul>
<li class="chapter" data-level="" data-path="simulacion-de-variables-aleatorias.html"><a href="simulacion-de-variables-aleatorias.html#variables-aletaorias-discretas"><i class="fa fa-check"></i>Variables aletaorias discretas</a></li>
<li class="chapter" data-level="" data-path="simulacion-de-variables-aleatorias.html"><a href="simulacion-de-variables-aleatorias.html#aceptacion-y-rechazo"><i class="fa fa-check"></i>Aceptación y rechazo</a></li>
<li class="chapter" data-level="7.3.1" data-path="simulacion-de-variables-aleatorias.html"><a href="simulacion-de-variables-aleatorias.html#variables-aleatorias-continuas-1"><i class="fa fa-check"></i><b>7.3.1</b> Variables aleatorias continuas</a></li>
<li class="chapter" data-level="" data-path="simulacion-de-variables-aleatorias.html"><a href="simulacion-de-variables-aleatorias.html#aceptacion-y-rechazo-1"><i class="fa fa-check"></i>Aceptación y rechazo</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="simulacion-de-modelos.html"><a href="simulacion-de-modelos.html"><i class="fa fa-check"></i><b>8</b> Simulación de modelos</a><ul>
<li class="chapter" data-level="8.0.1" data-path="simulacion-de-modelos.html"><a href="simulacion-de-modelos.html#para-que-simular-de-un-modelo"><i class="fa fa-check"></i><b>8.0.1</b> ¿Para qué simular de un modelo?</a></li>
<li class="chapter" data-level="8.1" data-path="distribuciones-multivariadas.html"><a href="distribuciones-multivariadas.html"><i class="fa fa-check"></i><b>8.1</b> Distribuciones multivariadas</a><ul>
<li class="chapter" data-level="8.1.1" data-path="distribuciones-multivariadas.html"><a href="distribuciones-multivariadas.html#probabilidad-condicional"><i class="fa fa-check"></i><b>8.1.1</b> Probabilidad condicional</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="tareas.html"><a href="tareas.html"><i class="fa fa-check"></i>Tareas</a><ul>
<li class="chapter" data-level="" data-path="transformacion-de-datos-1.html"><a href="transformacion-de-datos-1.html"><i class="fa fa-check"></i>2-Transformación de datos</a></li>
<li class="chapter" data-level="" data-path="datos-limpios-1.html"><a href="datos-limpios-1.html"><i class="fa fa-check"></i>3-Datos Limpios</a></li>
<li class="chapter" data-level="" data-path="probabilidad.html"><a href="probabilidad.html"><i class="fa fa-check"></i>4-Probabilidad</a></li>
<li class="chapter" data-level="" data-path="bootstrap.html"><a href="bootstrap.html"><i class="fa fa-check"></i>5-Bootstrap</a><ul>
<li class="chapter" data-level="" data-path="bootstrap.html"><a href="bootstrap.html#solucion"><i class="fa fa-check"></i>Solución</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="cobertura-de-intervalos-de-confianza.html"><a href="cobertura-de-intervalos-de-confianza.html"><i class="fa fa-check"></i>6-Cobertura de intervalos de confianza</a><ul>
<li class="chapter" data-level="" data-path="cobertura-de-intervalos-de-confianza.html"><a href="cobertura-de-intervalos-de-confianza.html#solucion-1"><i class="fa fa-check"></i>Solución</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="examen-parcial-a-casa.html"><a href="examen-parcial-a-casa.html"><i class="fa fa-check"></i>Examen parcial a casa</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="referencias.html"><a href="referencias.html"><i class="fa fa-check"></i>Referencias</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Publicado con bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Estadística Computacional</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="examen-parcial-a-casa" class="section level2 unnumbered">
<h2>Examen parcial a casa</h2>
<p><strong>Entrega:</strong> 8 de octubre antes de las 16:00 horas</p>
<p><strong>Instrucciones:</strong></p>
<ul>
<li><p>Resuelve todas las preguntas, tus respuestas deben ser claras y debes explicar
los resultados, incluye también tus procedimientos/código de manera ordenada,
el código comentado.</p></li>
<li><p>Se evaluará la presentación de resultados (calidad de las gráficas, tablas,
…), revisa la sección de teoría de visualización en las notas.</p></li>
<li><p>Se puede realizar individual o en parejas, en el caso de parejas envíen una
sola respuesta con el nombre de ambos.</p></li>
<li><p>Si tienes preguntas puedes escribirlas en <a href="https://docs.google.com/document/d/1z-CJ9HXQkS9REI5ofkvT2ZzGzJdAGJUNrEWO3uhLgqA/edit?usp=sharing">este documento</a>, será el único medio para resolver dudas del examen (<strong>no
correos</strong>).</p></li>
<li><p>El examen se puede entregar después de la fecha establecida, sin embargo habrá
una penalización de un punto (sobre 10) por cada día tarde.</p></li>
</ul>
<p></br></p>
<div id="probabilidad-1" class="section level4 unnumbered">
<h4>1. Probabilidad</h4>
<p>Puedes usar simulación o encontrar la respuesta de manera analítica (incluye
procedimiento).</p>
<ol style="list-style-type: lower-alpha">
<li>Revolvemos una baraja de cartas (52) y la partimos en dos mitades (26 cartas
en cada parte). Extraemos una carta de la primera mitad y resulta en As.
Colocamos el As en la segunda mitad de la baraja, revolvemos las 27 cartas
correspondientes y seleccionamos una carta.</li>
</ol>
<ul>
<li><p>¿Cuál es el epacio de resultados?</p></li>
<li><p>¿Cuál es la probabilidad de que hayamos seleccionado un As?</p></li>
</ul>
<ol start="2" style="list-style-type: lower-alpha">
<li>A y B juegan una serie de juegos. En cada juego A gana con probabilidad 0.35
y B con probabilidad 0.65 (independiente de lo ocurrido en los otros juegos).
Paran de jugar cuando el número total de juegos ganados de un jugador es dos
juegos más que el total de juegos ganados por el otro jugador:</li>
</ol>
<ul>
<li><p>Cuál es el espacio de resultados?</p></li>
<li><p>Encuentra la probabilidad de que se jueguen 4 juegos en total.</p></li>
<li><p>Encuentra la probabilidad de que A gane la serie.</p></li>
</ul>
<hr />
</div>
<div id="manipulacion-de-datos-y-bootstrap" class="section level4 unnumbered">
<h4>2. Manipulación de datos y Bootstrap</h4>
<p>La bioequivalencia es un término utilizado en farmacocinética para evaluar la
equivalencia terapéutica entre dos formulaciones de un medicamento que contiene
el mismo principio activo o fármaco. Cuando una farmacéutica cambia una fórmula
o desarrolla una nueva presentación de un medicamento ya disponible al público,
requiere aprobación de la FDA para poder distribuirlo, para lograr esta
aprobación debe demostrar que el nuevo medicamento es bioequivalente al
medicamento ya aprobado, es así que se diseñan ensayos clínicos donde se compara
la respuesta de los participantes al recibir las distintas formulaciones del
medicamento.</p>
<p>En este ejercicio analizarás la bioequivalencia de una nueva tableta de
Cimetidine de 800 mg en relación a tabletas aprobadas de 400 mg:</p>
<ul>
<li><p>En el ensayo clínico participaron 24 voluntarios saludables, cada uno se
asignó de manera aleatoria para recibir la formulación de 800 mg (formulación a
prueba) o dos tabletas de 400 mg (formulación referencia).</p></li>
<li><p>Se recolectaron muestras de sangre antes de la dosis y durante las siguientes
24 horas.</p></li>
</ul>
<p>Realiza lo siguiente:</p>
<ol style="list-style-type: decimal">
<li>Lee los datos <a href="https://raw.githubusercontent.com/tereom/est-computacional-2018/master/data/cimeditine_raw.txt">cimetidine_raw</a>, las variables son:
<ul>
<li><code>formulation</code> indica si la observación corresponde a formulación de
refernecia o de prueba,</li>
<li><code>subj</code> identifica al sujeto,</li>
<li><code>seq</code> toma dos valores 1 indica que el sujeto se eavluó tomando la
formulación de tratamiento primero y después la de referencia, 2 indica el
caso contrario,</li>
<li><code>prd</code> indica el periodo (1 o 2),</li>
<li>las variables <code>HRXX</code> indican la medición (concentración de Cimeditine en
mCG/ml) para la hora XX (HR00 corresponde a la hora cero, HR05 a media hora,
HR10 a una hora,…, HR240 a 24 horas).
Desafortunadamente estos datos crudos están truncados y para algunos sujetos
(1, 3, 5, 8, 9, 12, 16, 17, 19, 22, 23) no tenemos las mediciones del tratamiento
de referencia, sin embargo, podemos usar la información disponible para entender
como se calculan las métricas.</li>
</ul></li>
<li><p>¿cumplen los principios de los datos limpios?, En caso de que no los cumplan
limpialos y explica que fallaba. Imprime las primeras líneas de los datos
limpios (si ya estaban limpios entonces los datos originales).</p></li>
<li><p>Grafica la concentración del medicamento por hora. Debes graficar en el eje
horizontal la hora, en el eje vertical la concentración para cada persona, bajo
cada tratamiento. Un ejemplo de lo que debes hacer es <a href="https://en.wikipedia.org/wiki/Bioequivalence#/media/File:Bupropion_bioequivalency_comparison.svg">esta gráfica</a>,
con la diferencia que la curva de Wikipedia es el promedio sobre todos los individuos y
tu graficarás una para cada uno. ¿Qué puedes ver en las gráficas?</p></li>
</ol>
<p>Para comprobar bioequivalencia la FDA solicita que el medicamento de prueba
tenga un comportamiento similar al del medicamento de referencia. Para ello se
compara la máxima concentración de medicamento (CMAX), el tiempo que tarda el
individuo en alcanzar las concentración máxima en sangre (TMAX), y el área bajo
la curva de concentración contra tiempo (AUC, que acabas de graficar). En
particular para que la FDA concluya bioequivalencia se requiere que para cada
medición (CMAX, TMAX y AUC) un intervalo de 90% de confianza para el cociente
<span class="math inline">\(\mu_T/\mu_R\)</span> de la media del tratamiento de prueba <span class="math inline">\(\mu_T\)</span> y la media de la
referencia <span class="math inline">\(\mu_R\)</span> esté contenido en el intervalo <span class="math inline">\((80\%, 125\%)\)</span>. En este
ejercicio usarás bootstrap para calcular un intervalo de confianza para el
cociente de las medias de AUC.</p>
<ol start="4" style="list-style-type: decimal">
<li><p>Calcula el AUC para cada individuo en cada tratamiento disponible, usa la
fórmula de área trapezoidal:
<span class="math display">\[AUC = \sum_{\tau=1}^k(c_\tau + c_{\tau−1}) × (t_\tau − t_{\tau-1}) / 2\]</span> donde
<span class="math inline">\(c\)</span> es la concentración y <span class="math inline">\(t\)</span> son las horas. Tip: Si usas las funciones de dplyr
puede resultar útil usar <code>lag()</code>. Presenta una tabla con tus resultados.</p></li>
<li><p>En estos últimos dos incisos usa los datos <a href="https://raw.githubusercontent.com/tereom/est-computacional-2018/master/data/cimeditine_boot.csv">cimeditine_boot.csv</a>,
para el <span class="math inline">\(i\)</span>-ésimo individuo <code>subj</code> tienes mediciones de AUC bajo tratamiento y
referencia, denotemos a este par <span class="math inline">\(x_i=(auc_{Ti}, auc_{Ri})\)</span>, suponiendo que las
<span class="math inline">\(x_i\)</span> se obuvieron de manera aleatoria de una distribución bivariada <span class="math inline">\(P\)</span>,
entonces la cantidad poblacional de interés es el parámetro
<span class="math inline">\(\theta = \mu_T/\mu_R\)</span>. Calcula el estimador <em>plug-in</em> de <span class="math inline">\(\theta\)</span>.</p></li>
<li><p>Usa bootstrap para generar un intervalo del 90% de confianza para <span class="math inline">\(\theta\)</span>,
¿la nueva tableta cumple el criterio de bioequivalencia de la FDA?</p></li>
</ol>
<hr />
</div>
<div id="bootstrap-1" class="section level4 unnumbered">
<h4>3. Bootstrap</h4>
<p>En México, las elecciones tienen lugar un domingo, los resultados oficiales
del proceso se presentan a la población una semana después. A fin de evitar
proclamaciones de victoria injustificadas durante ese periodo el INE organiza un
conteo rápido.El conteo rápido es un procedimiento para estimar, a partir de una
muestra aleatoria de casillas, el porcentaje de votos a favor de los candidatos
en la elección.</p>
<p>En este ejercicio deberás crear intervalos de confianza para la proporción de
votos que recibió cada candidato en las elecciones de 2006. La inferencia se
hará a partir de una muestra de las casillas similar a la que se utilizó para el
conteo rápido de 2006.</p>
<p>El diseño utilizado es <em>muestreo estratificado simple</em>, lo que quiere decir que:</p>
<ol style="list-style-type: lower-roman">
<li><p>se particionan las casillas de la pablación en estratos (cada casilla
pertenece a exactamente un estrato), y</p></li>
<li><p>dentro de cada estrato se usa <em>muestreo aleatorio</em> para seleccionar las
casillas que estarán en la muestra.</p></li>
</ol>
<p>En este ejercicio (similar al conteo rápido de 2006):</p>
<ul>
<li><p>Se seleccionó una muestra de <span class="math inline">\(7,200\)</span> casillas</p></li>
<li><p>La muestra se repartió a lo largo de 300 estratos.</p></li>
<li><p>La tabla <code>muestra_estratos</code> contiene en la columna <span class="math inline">\(N\)</span> el número total de
casillas en el estrato y en <span class="math inline">\(n\)</span> el número de casillas que se seleccionaron en la
muestra, para cada estrato:</p></li>
</ul>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(tidyverse)
muestra_estratos &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;https://raw.githubusercontent.com/tereom/est-computacional-2018/master/data/muestra_estratos.csv&quot;</span>)</code></pre>
<ul>
<li>La tabla <code>muestra_2006</code> contiene para cada casilla:
<ul>
<li>el estrato al que pertenece: <code>estrato</code></li>
<li>el número de votos que recibió cada partido/coalición: <code>pan</code>, <code>pri_pvem</code>,
<code>panal</code>, <code>prd_pt_convergencia</code>, <code>psd</code> y la columna <code>otros</code> indica el
número de votos nulos o por candidatos no registrados.</li>
<li>el total de votos registrado en la casilla: <code>total</code>.</li>
</ul></li>
</ul>
<pre class="sourceCode r"><code class="sourceCode r">muestra_<span class="dv">2006</span> &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;https://raw.githubusercontent.com/tereom/est-computacional-2018/master/data/muestra_2006.csv&quot;</span>)</code></pre>
<pre><code>## Parsed with column specification:
## cols(
##   casilla_id = col_integer(),
##   edo_id = col_integer(),
##   pri_pvem = col_integer(),
##   pan = col_integer(),
##   panal = col_integer(),
##   prd_pt_conv = col_integer(),
##   psd = col_integer(),
##   otros = col_integer(),
##   total = col_integer(),
##   estrato = col_integer()
## )</code></pre>
<p>Una de las metodolgías de estimación, que se usa en el conteo rápido, es
<em>estimador de razón</em> y se contruyen intervalos de 95% de confianza usando el
método normal con error estándar bootstrap. En este ejercicio debes construir
intervalos usando este procedimiento.</p>
<p>Para cada candidato:</p>
<ol style="list-style-type: decimal">
<li>Calcula el estimador de razón combinado, para muestreo estratificado la
fórmula es:</li>
</ol>
<p><span class="math display">\[\hat{p}=\frac{\sum_h \frac{N_h}{n_h} \sum_i Y_{hi}}{\sum_h \frac{N_h}{n_h} \sum_i X_{hi}}\]</span>
donde:</p>
<ul>
<li><p><span class="math inline">\(\hat{p}\)</span> es la estimación de la proporción de votos que recibió el candidato
en la elección.</p></li>
<li><p><span class="math inline">\(Y_{hi}\)</span> es el número total de votos que recibió el candidato
en la <span class="math inline">\(i\)</span>-ésima casillas, que pertence al <span class="math inline">\(h\)</span>-ésimo estrato.</p></li>
<li><p><span class="math inline">\(X_{hi}\)</span> es el número total de votos en la <span class="math inline">\(i\)</span>-ésima casilla, que pertence al
<span class="math inline">\(h\)</span>-ésimo estrato.</p></li>
<li><p><span class="math inline">\(N_h\)</span> es el número total de casillas en el <span class="math inline">\(h\)</span>-ésimo estrato.</p></li>
<li><p><span class="math inline">\(n_h\)</span> es el número de casillas del <span class="math inline">\(h\)</span>-ésimo estrato que se seleccionaron en
la muestra.</p></li>
</ul>
<ol start="2" style="list-style-type: decimal">
<li>Utiliza <strong>bootstrap</strong> para calcular el error estándar, y reporta tu
estimación del error.
<ul>
<li>Genera 1000 muestras bootstrap.</li>
<li>Recuerda que las muestras bootstrap tienen que tomar en cuenta la
metodología que se utilizó en la selección de la muestra original.</li>
</ul></li>
<li>Construye un intervalo del 95% de confianza utilizando el método normal.</li>
</ol>
<p>Repite para todos los partidos (y la categoría otros). Reporta tus intervalos
en una tabla.</p>
</div>
<div id="simulacion-de-variables-aleatorias-1" class="section level4 unnumbered">
<h4>4. Simulación de variables aleatorias</h4>
<p>Recuerda que una variable aleatoria <span class="math inline">\(X\)</span> tiene una distribución geométrica
con parámetro <span class="math inline">\(p\)</span> si
<span class="math display">\[p_X(i) = P(X=i)=pq^{i-1}\]</span>
para <span class="math inline">\(i=1,2,...\)</span> y donde <span class="math inline">\(q=1-p\)</span>.</p>
<p>Notemos que
<span class="math display">\[\sum_{i=1}^{j-1}P(X=i)=1-P(X\geq j-1)\]</span>
<span class="math display">\[=1 - q^{j-1}\]</span>
para <span class="math inline">\(j\geq 1\)</span>.
por lo que podemos generar un valor de <span class="math inline">\(X\)</span> generando un número aleatorio
<span class="math inline">\(U\)</span> y seleccionando <span class="math inline">\(j\)</span> tal que
<span class="math display">\[1-q^{j-1} \leq U \leq 1-q^j\]</span></p>
<p>Esto es, podemos definir <span class="math inline">\(X\)</span> como:
<span class="math display">\[X=min\{j : (1-p)^j &lt; 1-U\}\]</span>
usando que el logaritmo es una función monótona (i.e. <span class="math inline">\(a&lt;b\)</span> implica <span class="math inline">\(log(a)&lt;log(b)\)</span>) obtenemos que podemos expresar <span class="math inline">\(X\)</span> como
<span class="math display">\[X=min\big\{j : j \cdot log(q) &lt; log(1-U)\big\}\]</span>
<span class="math display">\[=min\big\{j : j &gt; log(U)/log(q)\big\}\]</span>
entonces
<span class="math display">\[X= int\bigg(\frac{log(U)}{log(q)}\bigg)+1\]</span></p>
<p>es geométrica con parámetro <span class="math inline">\(p\)</span>.</p>
<p>Ahora, sea <span class="math inline">\(X\)</span> el número de lanzamientos de una moneda que se requieren
para alcanzar <span class="math inline">\(r\)</span> éxitos (soles) cuando cada lanzamiento es independiente, <span class="math inline">\(X\)</span> tiene una distribución binomial negativa.</p>
<p>Una variable aleatoria <span class="math inline">\(X\)</span> tiene distribución binomial negativa con parámetros <span class="math inline">\((r,p)\)</span> donde <span class="math inline">\(r\)</span> es un entero positivo y <span class="math inline">\(0&lt;p&lt;r\)</span> si
<span class="math display">\[P(X=j)=\frac{(j-1)!}{(j-r)!(r-1)!}p^r(1-p)^{j-r}.\]</span></p>
<ol style="list-style-type: lower-alpha">
<li><p>Recuerda la distribución geométrica ¿cuál es a relación entre la variable
aleatoria binomial negativa y la geométrica?</p></li>
<li><p>Utiliza el procedimiento descrito para generar observaciones de una variable aleatoria con distribución geométrica y la relación entre la geométrica y la
binomial negativa para generar simulaciones de una variable aleatoria con
distribución binomial negativa (parámetro p = 0.4, r = 20). Utiliza la semilla
221285 (en R usa set.seed) y reporta las primeras 10 simulaciones obtenidas.</p></li>
<li><p>Verifica la relación
<span class="math display">\[p_{j+1}=\frac{j(1-p)}{j+1-r}p_j\]</span>
y úsala para generar un nuevo algoritmo de simulación, vuelve a definir la
semilla y reporta las primeras 10 simulaciones.</p></li>
<li><p>Realiza 10,000 simulaciones usando cada uno de los algoritmos y compara el
tiempo de ejecución.</p></li>
<li><p>Genera un histogrma para cada algoritmo (usa 1000 simulaciones) y comparalo
con la distribución construida usando la función de R <em>dnbinom</em>.</p></li>
</ol>
<hr />

</div>
</div>
<!-- </div> -->
            </section>

          </div>
        </div>
      </div>
<a href="cobertura-de-intervalos-de-confianza.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="referencias.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/tereom/est-computacional-2018/edit/master/98-tareas.Rmd",
"text": "Edit"
},
"download": ["est-computacional-2018.pdf", "est-computacional-2018.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
